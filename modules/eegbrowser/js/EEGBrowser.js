!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function makeRegions(numRegions){for(var regions=[],rc=function(){return Math.floor(250*Math.random())},i=0;i<numRegions;i+=1){var center=new Array(3).fill(0).map(function(){return 2*Math.random()-1}),color={r:rc(),g:rc(),b:rc()},region=new Region("region"+i,"Region "+i,center,color);regions.push(region)}return regions}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(15),_react2=_interopRequireDefault(_react),_SignalPlot=__webpack_require__(16),_MRILoader=__webpack_require__(17),_MRILoader2=_interopRequireDefault(_MRILoader),_Filters=__webpack_require__(19),NUM_REGIONS=8,POINTS_PER_REGION=30,SAMPLES_PER_POINT=500,Region=function(){function Region(name,label,center){var colorCode=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0};_classCallCheck(this,Region),this.name=name,this.label=label,this.colorCode=colorCode,this.channels=[],this.generateChannels(POINTS_PER_REGION,center)}return _createClass(Region,[{key:"generateChannels",value:function(numChannels,center){for(var i=0;i<numChannels;i+=1){var channel=new Array(3).fill(0).map(function(){return(2*Math.random()-1)/NUM_REGIONS});channel[0]+=center[0],channel[1]+=center[1],channel[2]+=center[2],this.channels.push(new _SignalPlot.Channel(this.name+" : channel_"+i,channel,SAMPLES_PER_POINT))}}}]),Region}(),RegionSelect=function(_Component){function RegionSelect(props){_classCallCheck(this,RegionSelect);var _this=_possibleConstructorReturn(this,(RegionSelect.__proto__||Object.getPrototypeOf(RegionSelect)).call(this,props));return _this.defaultProps={hemispheres:[],selected:[]},_this}return _inherits(RegionSelect,_Component),_createClass(RegionSelect,[{key:"render",value:function(){var _this2=this,regionElement=function(region,selected,onclick){var c=region.colorCode;return _react2.default.createElement("li",{key:region.name,className:"region-item "+(selected?"selected-region":"unselected-region"),onClick:function(){return onclick(region)},onMouseEnter:function(){_this2.props.hoverRegion(region)},onMouseLeave:function(){_this2.props.hoverRegion(region)}},_react2.default.createElement("div",{className:"region-color-code",style:{backgroundColor:"rgb("+c.r+", "+c.g+", "+c.b+")"}}),region.label+(selected?"*":""))},regionElements=this.props.regions.map(function(region){return _this2.props.selected.find(function(r){return r===region})?regionElement(region,!0,_this2.props.unselectRegion):regionElement(region,!1,_this2.props.selectRegion)});return _react2.default.createElement("div",{className:"region-select"},_react2.default.createElement("ul",{className:"region-select-list"},regionElements))}}]),RegionSelect}(_react.Component),YELLOW=16737832,GREEN=3450963,BLUE=4359668,MRIView=function(_Component2){function MRIView(){return _classCallCheck(this,MRIView),_possibleConstructorReturn(this,(MRIView.__proto__||Object.getPrototypeOf(MRIView)).apply(this,arguments))}return _inherits(MRIView,_Component2),_createClass(MRIView,[{key:"componentDidMount",value:function(){var _this4=this,width=400,height=350,renderer=new THREE.WebGLRenderer;this.canvas=renderer.domElement,this.canvas.width=width,this.canvas.height=height,this.addCanvas(),renderer.setSize(width,height),this.camera=new THREE.PerspectiveCamera(45,width/height,1,1e3),this.controls=new THREE.OrbitControls(this.camera,this.canvas),this.scene=new THREE.Scene,this.mriLoader=new _MRILoader2.default(this.scene),this.meshes=[],this.mriLoader.initialize().then(function(dimensions){function run(){renderer.render(self.scene,self.camera),window.requestAnimationFrame(run.bind(self))}var scale=dimensions.scale/2;_this4.camera.position.z=-dimensions.diagonal/1.7,_this4.camera.lookAt(new THREE.Vector3(0,0,0));var material=new THREE.MeshBasicMaterial({color:YELLOW}),geometry=new THREE.SphereBufferGeometry(scale/(10*NUM_REGIONS),8,8);_this4.props.regions.forEach(function(region,i){region.channels.forEach(function(channel){var mesh=new THREE.Mesh(geometry,new THREE.MeshBasicMaterial);mesh.material.copy(material),mesh.position.fromArray(channel.position),mesh.position.multiplyScalar(scale),_this4.scene.add(mesh),_this4.meshes[i]||(_this4.meshes[i]=[]),_this4.meshes[i].push(mesh)})});var self=_this4;run()})}},{key:"componentDidUpdate",value:function(){var _this5=this;this.addCanvas(),this.props.regions.forEach(function(region,i){region.channels.forEach(function(channel){_this5.meshes[i]&&(_this5.meshes[i].forEach(function(m){m.material.color.setHex(YELLOW)}),_this5.props.selected.find(function(r){return r===region})&&_this5.meshes[i].forEach(function(m){m.material.color.setHex(GREEN)}),_this5.props.hoveredRegion===region&&_this5.meshes[i].forEach(function(m){m.material.color.setHex(BLUE)}))})})}},{key:"addCanvas",value:function(){this.container&&this.lastContainer!==this.container&&(this.container.appendChild(this.canvas),this.lastContainer=this.container)}},{key:"render",value:function(){var _this6=this;return this.props.showMRI?_react2.default.createElement("div",{className:"mri-view-container",ref:function(div){_this6.container=div}}):null}}]),MRIView}(_react.Component),FilterSelect=function(_Component3){function FilterSelect(props){return _classCallCheck(this,FilterSelect),_possibleConstructorReturn(this,(FilterSelect.__proto__||Object.getPrototypeOf(FilterSelect)).call(this,props))}return _inherits(FilterSelect,_Component3),_createClass(FilterSelect,[{key:"render",value:function(){var _this8=this,optionElement=function(option){return _react2.default.createElement("option",{key:option.key,value:option.key},option.label)};return _react2.default.createElement("select",{className:"signal-filter-dropdown",onChange:function(e){_this8.props.onChange(e.target.value)},value:this.props.filter},this.props.filters.map(optionElement))}}]),FilterSelect}(_react.Component),ZOOM_AMOUNT=1,INTERVAL_MOVE_AMOUNT=1,PLOTS_PER_GROUP=7,PLOT_HEIGHT=90,Y_BOUNDS={ymin:-2.1,ymax:2.1},Y_WIDTH=60,countNumChannels=function(regions){return regions.map(function(r){return r.channels.length}).reduce(function(a,b){return a+b},0)},SignalPlots=function(_Component4){function SignalPlots(props){_classCallCheck(this,SignalPlots);var _this9=_possibleConstructorReturn(this,(SignalPlots.__proto__||Object.getPrototypeOf(SignalPlots)).call(this,props));return _this9.lastMouseX=null,_this9.drawn=[],_this9.state={cursorX:null,group:0,tBounds:{tmin:-.1,tmax:25},yBounds:{},filters:{low:"none",hi:"none"}},_this9}return _inherits(SignalPlots,_Component4),_createClass(SignalPlots,[{key:"componentWillReceiveProps",value:function(nextProps){var minPlot=(PLOTS_PER_GROUP-1)*this.state.group,numChannels=countNumChannels(nextProps.selected),newGroup=minPlot>numChannels?Math.floor(numChannels/PLOTS_PER_GROUP):this.state.group;this.setState({group:newGroup})}},{key:"componentDidMount",value:function(){var _this10=this;window.addEventListener("mouseup",function(){_this10.lastMouseX=null}),window.addEventListener("resize",function(){_this10.forceUpdate()})}},{key:"generatePlotElements",value:function(minPlot,maxPlot){var _this11=this,plotElements=[],index=0;return this.props.selected.forEach(function(region){region.channels.forEach(function(channel){var _state$filters=_this11.state.filters,low=_state$filters.low,hi=_state$filters.hi;channel.applyFilter(low,hi);var axisProps={drawXAxis:!1,xAxisLabel:"time (sec)",yAxisLabel:"uV"};if(index===minPlot&&(axisProps.drawXAxis=!0,axisProps.xAxisOrientation="top",axisProps.xAxisLabelPos=null,axisProps.yAxisLabelPos={x:-23,y:10}),index===maxPlot&&(axisProps.drawXAxis=!0,axisProps.xAxisOrientation="bottom",axisProps.xAxisLabelPos={x:5,y:28},axisProps.yAxisLabelPos={x:-23,y:7}),index>=minPlot&&index<=maxPlot){var zoom=function(leftClick,multiplier){if(leftClick){_this11.state.yBounds[channel.name]=_this11.state.yBounds[channel.name]||Y_BOUNDS;var _state$yBounds$channe=_this11.state.yBounds[channel.name],_ymin=_state$yBounds$channe.ymin,_ymax=_state$yBounds$channe.ymax;_ymin*=multiplier,_ymax*=multiplier,_this11.state.yBounds[channel.name]={ymin:_ymin,ymax:_ymax},_this11.setState({yBounds:_this11.state.yBounds})}},_ref=_this11.state.yBounds[channel.name]||Y_BOUNDS,ymin=_ref.ymin,ymax=_ref.ymax;plotElements.push(_react2.default.createElement(_SignalPlot.SignalPlot,{key:index,className:"signal-plot-item",channel:channel,colorCode:region.colorCode,height:PLOT_HEIGHT,yAxisWidth:Y_WIDTH,tBounds:_this11.state.tBounds,yBounds:{ymin:ymin,ymax:ymax},onPlus:function(e){e.stopPropagation(),zoom(0===e.button,.9)},onMinus:function(e){e.stopPropagation(),zoom(0===e.button,1.1)},backgroundColor:index%2===0?"#fff":"#eee",cursorX:_this11.state.cursorX,drawXAxis:axisProps.drawXAxis,xAxisOrientation:axisProps.xAxisOrientation,xAxisLabel:axisProps.xAxisLabel,xAxisLabelPos:axisProps.xAxisLabelPos,yAxisLabel:axisProps.yAxisLabel,yAxisLabelPos:axisProps.yAxisLabelPos}))}index++})}),plotElements}},{key:"render",value:function(){var _this12=this,numChannels=countNumChannels(this.props.selected),minPlot=(PLOTS_PER_GROUP-1)*this.state.group,maxPlot=(PLOTS_PER_GROUP-1)*(this.state.group+1),showNext=maxPlot<numChannels,showPrev=this.state.group>0;minPlot+PLOTS_PER_GROUP>numChannels&&(maxPlot=Math.min(minPlot+PLOTS_PER_GROUP,numChannels)-1);var _onWheel=function(dy){var _state$tBounds=_this12.state.tBounds,tmin=_state$tBounds.tmin,tmax=_state$tBounds.tmax;tmax-tmin<=5&&dy<0||tmax-tmin>=65&&dy>0||_this12.setState({tBounds:{tmin:tmin-Math.sign(dy)*ZOOM_AMOUNT*(tmax-tmin)/15,tmax:tmax+Math.sign(dy)*ZOOM_AMOUNT*(tmax-tmin)/15}})},_onMouseMove=function(shift,leftClick,x){if(!_this12.lastMouseX)return void(_this12.lastMouseX=x);var _container$getBoundin=_this12.container.getBoundingClientRect(),width=_container$getBoundin.width,left=_container$getBoundin.left,_state$tBounds2=_this12.state.tBounds,tmin=_state$tBounds2.tmin,tmax=_state$tBounds2.tmax,dx=x-_this12.lastMouseX;if(_this12.lastMouseX=x,shift&&leftClick&&_this12.setState({tBounds:{tmin:tmin-dx*INTERVAL_MOVE_AMOUNT*(tmax-tmin)/width,tmax:tmax-dx*INTERVAL_MOVE_AMOUNT*(tmax-tmin)/width}}),!shift&&leftClick){var tInv=d3.scale.linear().domain([Y_WIDTH,width-Y_WIDTH/4]).range([tmin,tmax]);x-left>Y_WIDTH&&_this12.setState({cursorX:tInv(x-left)})}},selectLow=function(value){_this12.setState({filters:{low:value,hi:_this12.state.filters.hi}})},selectHi=function(value){_this12.setState({filters:{low:_this12.state.filters.low,hi:value}})},enabled=function(text,incr){return _react2.default.createElement("div",{className:"signal-plots-button",onClick:function(){_this12.setState({group:_this12.state.group+incr})}},text)},disabled=function(text){return _react2.default.createElement("div",{className:"signal-plots-button disabled"},text)},showingPlots=_react2.default.createElement("div",{className:"signal-plots-group-number"},"Showing plots: ",minPlot+1," to ",maxPlot+1," out of ",numChannels),plotElements=this.generatePlotElements(minPlot,maxPlot);return _react2.default.createElement("div",{className:"signal-plots-container"},_react2.default.createElement("div",{className:"signal-plots-toolbar"},_react2.default.createElement("div",{className:"signal-plots-toolbar-layer"},_react2.default.createElement("div",{className:"signal-plots-buttons"},showPrev?enabled("Previous",-1):disabled("Previous"),showNext?enabled("Next",1):disabled("Next"),numChannels>0?showingPlots:null)),_react2.default.createElement("div",{className:"signal-plots-toolbar-layer"},_react2.default.createElement("div",{className:"signal-plots-button",onClick:function(){_this12.setState({yBounds:{}})}},"Reset Y Zoom"),_react2.default.createElement("div",{className:"signal-plots-filters"},_react2.default.createElement(FilterSelect,{filters:_Filters.LOW_PASS_FILTERS,filter:this.state.filters.low,onChange:selectLow}),_react2.default.createElement(FilterSelect,{filters:_Filters.HIGH_PASS_FILTERS,filter:this.state.filters.hi,onChange:selectHi})))),_react2.default.createElement("div",{className:"signal-plots",ref:function(container){_this12.container=container},onWheel:function(e){e.shiftKey&&(e.preventDefault(),_onWheel(e.deltaY))},onMouseMove:function(e){_onMouseMove(e.shiftKey,e.buttons>0&&0===e.button,e.clientX)},onMouseDown:function(e){_onMouseMove(e.shiftKey,e.buttons>0&&0===e.button,e.clientX)}},plotElements))}}]),SignalPlots}(_react.Component),EEGBrowser=function(_Component5){function EEGBrowser(props){_classCallCheck(this,EEGBrowser);var _this13=_possibleConstructorReturn(this,(EEGBrowser.__proto__||Object.getPrototypeOf(EEGBrowser)).call(this,props)),regions=makeRegions(NUM_REGIONS);return _this13.state={regions:regions,selected:[regions[0]],expanded:!1},_this13}return _inherits(EEGBrowser,_Component5),_createClass(EEGBrowser,[{key:"render",value:function(){var _this14=this,unselectRegion=function(region){_this14.setState({selected:_this14.state.selected.filter(function(r){return r!==region})})},selectRegion=function(region){_this14.setState({selected:_this14.state.selected.filter(function(r){return r!==region}).concat([region])})},expandBar=_react2.default.createElement("div",{className:"expand-bar",onClick:function(){return _this14.setState({expanded:!_this14.state.expanded})}},_react2.default.createElement("span",{className:"expand-bar-icon"},this.state.expanded?">":"<")),regionSelect=_react2.default.createElement(RegionSelect,{regions:this.state.regions,selected:this.state.selected,unselectRegion:unselectRegion,selectRegion:selectRegion,hoverRegion:function(region){_this14.setState({hoveredRegion:region})},onMouseLeave:function(){_this14.setState({hoveredRegion:null})}}),mriView=_react2.default.createElement(MRIView,{regions:this.state.regions,selected:this.state.selected,hoveredRegion:this.state.hoveredRegion,showMRI:!this.state.expanded});return _react2.default.createElement("div",{className:"eeg-browser"},this.state.expanded?null:regionSelect,mriView,expandBar,_react2.default.createElement(SignalPlots,{selected:this.state.selected}))}}]),EEGBrowser}(_react.Component);exports.default=EEGBrowser,window.EEGBrowser=_react2.default.createFactory(EEGBrowser)},,,,,,,,,,,,,,,function(module,exports){module.exports=React},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignalPlot=exports.Channel=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(15),_react2=_interopRequireDefault(_react),_Filters=__webpack_require__(19),drawSignalLine=(exports.Channel=function(){function Channel(name,position,timeSamples){var _this=this,tmin=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,tmax=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60;_classCallCheck(this,Channel),this.name=name,this.tmin=tmin,this.tmax=tmax,this.domain=new Float32Array(timeSamples).fill(0),this.domain.forEach(function(_,i){var t=i/timeSamples;_this.domain[i]=tmin*(1-t)+tmax*t}),this.originalSignal=new Float32Array(timeSamples).fill(0),this.originalSignal.forEach(function(_,i){_this.originalSignal[i]=2*Math.random()-1}),this.position=position,this.hovered=!1,this.signal=this.originalSignal,this.filters={}}return _createClass(Channel,[{key:"applyFilter",value:function(lowPassFilterName,highPassFilterName){var _this2=this;if(this.filters.low!==lowPassFilterName||this.filters.hi!==highPassFilterName){var diffFilter=new differenceequationsignal1d.DifferenceEquationSignal1D;diffFilter.enableBackwardSecondPass;var doFilterUpdate=function(coefficients,input){return coefficients?(diffFilter.setInput(input),diffFilter.setACoefficients(coefficients.a),diffFilter.setBCoefficients(coefficients.b),diffFilter.run(),void(_this2.signal=diffFilter.getOutput())):void(_this2.signal=input)};doFilterUpdate(_Filters.FILTERS[lowPassFilterName],this.originalSignal),doFilterUpdate(_Filters.FILTERS[highPassFilterName],this.signal)}}}]),Channel}(),function(g,tScale,yScale,channel,indexes){var signalLine=d3.svg.line().x(function(i){return tScale(channel.domain[i]||0)}).y(function(i){return yScale(channel.signal[i]||0)});return g.append("path").attr("fill","none").attr("stroke","steelblue").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",1.5).attr("d",signalLine(indexes))}),drawSecondTicks=function(g,height,tScale,tmin,tmax){for(var ctmin=Math.ceil(tmin),ctmax=Math.ceil(tmax),secondTicks=g.append("g"),t=ctmin;t<ctmax;t++)secondTicks.append("line").attr({x1:tScale(t),y1:0}).attr({x2:tScale(t),y2:height}).attr("stroke-width",1).attr("stroke","#999");return secondTicks},drawCursorTick=function(g,height,x){return g.append("line").attr({x1:x,y1:0}).attr({x2:x,y2:height}).attr("stroke-width",1).attr("stroke","#900")},drawZeroLine=function(g,tScale,yScale,tmin,tmax){return g.append("line").attr({x1:tScale(tmin),y1:yScale(0)}).attr({x2:tScale(tmax),y2:yScale(0)}).attr("stroke-width",1).attr("stroke","#555")};exports.SignalPlot=function(_Component){function SignalPlot(props){_classCallCheck(this,SignalPlot);var _this3=_possibleConstructorReturn(this,(SignalPlot.__proto__||Object.getPrototypeOf(SignalPlot)).call(this,props));return _this3.svg=null,_this3}return _inherits(SignalPlot,_Component),_createClass(SignalPlot,[{key:"getDimensions",value:function(){var _props=this.props,width=_props.width,height=_props.height;return width?{width:width,height:height}:{width:this.svg.getBoundingClientRect().width-this.props.yAxisWidth||60,height:height}}},{key:"getD3Scales",value:function(){var _props$tBounds=(this.props.channel,this.props.tBounds),tmin=_props$tBounds.tmin,tmax=_props$tBounds.tmax,_props$yBounds=this.props.yBounds,ymin=_props$yBounds.ymin,ymax=_props$yBounds.ymax,_getDimensions=this.getDimensions(),width=_getDimensions.width,height=_getDimensions.height,t=d3.scale.linear().domain([tmin,tmax]).rangeRound([0,width]),tInv=d3.scale.linear().domain([0,width]).range([tmin,tmax]),y=d3.scale.linear().domain([ymin,ymax]).rangeRound([height,0]),yInv=d3.scale.linear().domain([0,height]).range([ymax,ymin]);return{t:t,y:y,tInv:tInv,yInv:yInv}}},{key:"getD3Axes",value:function(){var _getD3Scales=this.getD3Scales(),t=_getD3Scales.t,y=_getD3Scales.y,yInv=_getD3Scales.yInv,xAxis=d3.svg.axis().scale(t).ticks(10).outerTickSize(0).orient("bottom"),upperYLabelVal=Math.round(10*yInv(.75*this.props.height))/10,lowerYLabelVal=Math.round(10*yInv(.25*this.props.height))/10,yAxis=d3.svg.axis().scale(y).ticks(0).tickValues([lowerYLabelVal,0,upperYLabelVal]).outerTickSize(0).orient("left");return{xAxis:xAxis,yAxis:yAxis}}},{key:"getSignalIndexes",value:function(){var _props2=this.props,channel=_props2.channel,cursorX=_props2.cursorX,_props$tBounds2=this.props.tBounds,tmin=_props$tBounds2.tmin,tmax=_props$tBounds2.tmax,_getD3Scales2=this.getD3Scales(),cursTime=(_getD3Scales2.t,"NA"),cursVal="NA";cursorX&&(cursTime=Math.round(100*cursorX)/100);var ts=channel.domain,indexFilter=function(indexes,t,i){return t>=tmin&&t<=tmax&&(indexes.push(i),i<ts.length-1&&cursTime>=t&&cursTime<ts[i+1]&&(cursVal=channel.signal[i],cursVal=Math.round(100*cursVal)/100)),indexes},indexes=ts.reduce(indexFilter,[]);return{indexes:indexes,cursTime:cursTime,cursVal:cursVal}}},{key:"componentDidMount",value:function(){this.renderPlot()}},{key:"componentDidUpdate",value:function(){this.updatePlot()}},{key:"drawYScaleButton",value:function(parent,symbol,x,y){var g=parent.append("g").attr("transform","translate("+x+", "+y+")");return g.attr("class","plot-scale-button").attr("cursor","pointer"),g.append("rect").attr("x",-2).attr("y",-10).attr("width","12px").attr("height","12px").attr("fill","#aaa"),g.append("text").attr("x",4).attr("y",0).attr("font-weight","bold").attr("fill","#000").attr("text-anchor","middle").text(symbol),g}},{key:"drawXAxes",value:function(svg,parent,height){var xAx=null,_getD3Scales3=this.getD3Scales(),_getD3Axes=(_getD3Scales3.t,_getD3Scales3.y,this.getD3Axes()),xAxis=_getD3Axes.xAxis,_props3=this.props,xAxisLabel=_props3.xAxisLabel,yAxisLabel=_props3.yAxisLabel;if(xAx=parent.append("g").call(xAxis),svg.attr("height",height).style("min-height",height),"top"===this.props.xAxisOrientation&&xAx.attr("transform","translate(0, 0)"),"bottom"===this.props.xAxisOrientation&&(xAx.attr("transform","translate(0, "+height+")"),d3.select(this.svg).attr("height",height+50).style("min-height",height+50)),xAxisLabel&&this.props.xAxisLabelPos){var _props$xAxisLabelPos=this.props.xAxisLabelPos,x=_props$xAxisLabelPos.x,_y=_props$xAxisLabelPos.y;xAx.append("text").attr("x",x).attr("y",_y).text(xAxisLabel)}if(yAxisLabel&&this.props.yAxisLabelPos){var _props$yAxisLabelPos=this.props.yAxisLabelPos,_x3=_props$yAxisLabelPos.x,_y2=_props$yAxisLabelPos.y;xAx.append("text").attr("x",_x3).attr("y",_y2).text(yAxisLabel)}return xAx}},{key:"updatePlot",value:function(){var _this4=this,_getD3Scales4=this.getD3Scales(),t=_getD3Scales4.t,y=_getD3Scales4.y,_getD3Axes2=this.getD3Axes(),yAxis=(_getD3Axes2.xAxis,_getD3Axes2.yAxis),_getDimensions2=this.getDimensions(),width=_getDimensions2.width,_props$tBounds3=this.props.tBounds,tmin=_props$tBounds3.tmin,tmax=_props$tBounds3.tmax,_plot=this.plot,svg=_plot.svg,g=_plot.g,rect=_plot.rect,xAx=_plot.xAx,yAx=_plot.yAx,height=_plot.height,channel=_plot.channel,channelName=_plot.channelName,sigLine=_plot.sigLine,cursorTick=_plot.cursorTick,secondTicks=_plot.secondTicks,zeroLine=_plot.zeroLine,btnPlus=_plot.btnPlus,btnMinus=_plot.btnMinus;rect.attr("width",width),zeroLine.remove(),this.plot.zeroLine=drawZeroLine(g,t,y,tmin,tmax);var _getSignalIndexes=this.getSignalIndexes(),indexes=_getSignalIndexes.indexes,cursTime=_getSignalIndexes.cursTime,cursVal=_getSignalIndexes.cursVal;channelName.text(channel.name+" | "+this.props.xAxisLabel+": "+cursTime+" | value ("+this.props.yAxisLabel+"): "+cursVal),cursorTick&&cursorTick.remove(),this.props.cursorX&&(this.plot.cursorTick=drawCursorTick(g,height,t(this.props.cursorX))),xAx&&(xAx.remove(),this.plot.xAx=this.drawXAxes(svg,g,height)),yAx.call(yAxis),sigLine.remove(),this.plot.sigLine=drawSignalLine(g,t,y,channel,indexes),secondTicks.remove(),this.plot.secondTicks=drawSecondTicks(g,height,t,tmin,tmax),btnPlus&&btnPlus.remove(),btnMinus&&btnMinus.remove(),this.props.onPlus&&(this.plot.btnPlus=this.drawYScaleButton(g,"+",width-25,20),this.plot.btnPlus.on("mousedown",function(){return _this4.props.onPlus(d3.event)})),this.props.onMinus&&(this.plot.btnMinus=this.drawYScaleButton(g,"-",width-25,height-10),this.plot.btnMinus.on("mousedown",function(){return _this4.props.onMinus(d3.event)}))}},{key:"renderPlot",value:function(){var _this5=this,_props4=this.props,channel=_props4.channel,yAxisWidth=_props4.yAxisWidth,_props$tBounds4=this.props.tBounds,tmin=_props$tBounds4.tmin,tmax=_props$tBounds4.tmax,_getD3Scales5=this.getD3Scales(),t=_getD3Scales5.t,y=_getD3Scales5.y,_getD3Axes3=this.getD3Axes(),yAxis=(_getD3Axes3.xAxis,_getD3Axes3.yAxis),_getDimensions3=this.getDimensions(),width=_getDimensions3.width,height=_getDimensions3.height,svg=d3.select(this.svg).attr("height",height).style("min-height",height),g=svg.append("g").attr("transform","translate("+(yAxisWidth||60)+", 0)").attr("width",width),rect=g.append("rect").attr("width",width),yAx=g.append("g").call(yAxis),c=this.props.colorCode,regionColorCode=svg.append("line").attr({x1:5,y1:0}).attr({x2:5,y2:height}).attr("stroke-width",4).attr("stroke","rgba("+c.r+", "+c.g+", "+c.b+", 1.0)"),channelName=g.append("text").attr("x",5).attr("y",height-6).attr("font-size",13);rect.attr("height",height),this.props.backgroundColor&&rect.attr("fill",this.props.backgroundColor);var _getSignalIndexes2=this.getSignalIndexes(),indexes=_getSignalIndexes2.indexes,cursTime=_getSignalIndexes2.cursTime,cursVal=_getSignalIndexes2.cursVal;channelName.text(channel.name+" | "+this.props.xAxisLabel+": "+cursTime+" | value ("+this.props.yAxisLabel+"): "+cursVal);var sigLine=drawSignalLine(g,t,y,channel,indexes),cursorTick=null;this.props.cursorX&&(cursorTick=drawCursorTick(g,height,t(this.props.cursorX)));var secondTicks=drawSecondTicks(g,height,t,tmin,tmax),zeroLine=drawZeroLine(g,t,y,tmin,tmax),xAx=null;this.props.drawXAxis&&(xAx=this.drawXAxes(svg,g,height));var btnPlus=void 0;this.props.onPlus&&(btnPlus=this.drawYScaleButton(g,"+",width-25,20),btnPlus.on("mousedown",function(){return _this5.props.onPlus(d3.event)}));var btnMinus=void 0;this.props.onMinus&&(btnMinus=this.drawYScaleButton(g,"-",width-25,height-10),btnMinus.on("mousedown",function(){return _this5.props.onMinus(d3.event)})),this.plot={svg:svg,g:g,rect:rect,xAx:xAx,yAx:yAx,height:height,regionColorCode:regionColorCode,channel:channel,channelName:channelName,sigLine:sigLine,cursorTick:cursorTick,secondTicks:secondTicks,zeroLine:zeroLine,btnPlus:btnPlus,btnMinus:btnMinus}}},{key:"render",value:function(){var _this6=this;return _react2.default.createElement("svg",{className:"signal-plot-item",ref:function(svg){_this6.svg=svg}})}}]),SignalPlot}(_react.Component)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Shaders=__webpack_require__(18),MRI_URL="/eegbrowser/static/samir_mri.mnc",MRILoader=function(){function MRILoader(scene){_classCallCheck(this,MRILoader),this.scene=scene}return _createClass(MRILoader,[{key:"initialize",value:function(){var sliceMatrixSize={},spaceLength={},url2buf=new pixpipe.UrlToArrayBufferReader;new pixpipe.FileToArrayBufferReader;url2buf.addInput(MRI_URL),url2buf.update();var self=this;return new Promise(function(resolve){url2buf.on("ready",function(){var buffer=this.getOutput(),genericDecoder=new pixpipe.Image3DGenericDecoder;if(genericDecoder.addInput(buffer),genericDecoder.update(),!genericDecoder.getNumberOfOutputs())return void console.warn("No output from generic decoder.");var mniVolume=genericDecoder.getOutput();if(mniVolume){var mosaicFilter=new pixpipe.Image3DToMosaicFilter;mosaicFilter.addInput(mniVolume);var space="zspace";if(mosaicFilter.setMetadata("axis",space),mosaicFilter.setMetadata("time",-1),mosaicFilter.update(),!mosaicFilter.getNumberOfOutputs())return void console.warn("No output for mosaicFilter.");for(var textures=[],nbOut=0;nbOut<mosaicFilter.getNumberOfOutputs();nbOut++){var outputMosaic=mosaicFilter.getOutput(nbOut);console.log(outputMosaic),outputMosaic.setMetadata("min",mniVolume.getMetadata("voxel_min")),outputMosaic.setMetadata("max",mniVolume.getMetadata("voxel_max"));var data=outputMosaic.getDataAsUInt8Array(),texture=new THREE.DataTexture(data,outputMosaic.getWidth(),outputMosaic.getHeight(),THREE.LuminanceFormat,THREE.UnsignedByteType);texture.needsUpdate=!0,textures.push(texture)}sliceMatrixSize.x=mosaicFilter.getMetadata("gridWidth"),sliceMatrixSize.y=mosaicFilter.getMetadata("gridHeight"),spaceLength.x=mniVolume.getMetadata("xspace").space_length,spaceLength.y=mniVolume.getMetadata("yspace").space_length,spaceLength.z=mniVolume.getMetadata("zspace").space_length,spaceLength.t=mniVolume.getTimeLength(),this.textures=textures,this.sliceMatrixSize=sliceMatrixSize,this.spaceLength=spaceLength;var diagonal=2*Math.sqrt(spaceLength.x*spaceLength.x+spaceLength.y*spaceLength.y+spaceLength.z*spaceLength.z),scale=Math.min(spaceLength.x,spaceLength.y,spaceLength.z);return self.createMRIPlanes({textures:textures,sliceMatrixSize:sliceMatrixSize,spaceLength:spaceLength}),void resolve({diagonal:diagonal,scale:scale})}console.warn("Non-existant output for genericDecoder."),resolve({diagonal:1,scale:1})})})}},{key:"getDimensions",value:function(){}},{key:"getShaderMaterial",value:function(){return this.shaderMaterial}},{key:"createMRIPlanes",value:function(params){var textures=params.textures,sliceMatrixSize=params.sliceMatrixSize,spaceLength=params.spaceLength,system=new THREE.Object3D;this.shaderMaterial=new THREE.ShaderMaterial({uniforms:{nbOfTextureUsed:{type:"i",value:textures.length},nbSlicePerRow:{type:"f",value:sliceMatrixSize.x},nbSlicePerCol:{type:"f",value:sliceMatrixSize.y},nbSliceTotal:{type:"f",value:spaceLength.z},xspaceLength:{type:"f",value:spaceLength.x},yspaceLength:{type:"f",value:spaceLength.y},zspaceLength:{type:"f",value:spaceLength.z},timespaceLength:{type:"i",value:spaceLength.t},timeIndex:{type:"i",value:0},forcedAlpha:{type:"f",value:1},textures:{type:"t",value:textures},trilinearInterpol:{type:"b",value:!1},curveTexture:{
type:"t",value:null},enableCurve:{type:"b",value:!1}},vertexShader:_Shaders.VERTEX,fragmentShader:_Shaders.FRAGMENT,side:THREE.DoubleSide,transparent:!0});var largestSide=2*Math.sqrt(spaceLength.x*spaceLength.x+spaceLength.y*spaceLength.y+spaceLength.z*spaceLength.z),zPlaneGeometry=new THREE.PlaneBufferGeometry(largestSide,largestSide,1),zPlaneMesh=new THREE.Mesh(zPlaneGeometry,this.shaderMaterial);system.add(zPlaneMesh);var xPlaneGeometry=new THREE.PlaneBufferGeometry(largestSide,largestSide,1),xPlaneMesh=new THREE.Mesh(xPlaneGeometry,this.shaderMaterial);xPlaneMesh.rotation.y=Math.PI/2,system.add(xPlaneMesh);var zPlaneGeometry=new THREE.PlaneBufferGeometry(largestSide,largestSide,1),zPlaneMesh=new THREE.Mesh(zPlaneGeometry,this.shaderMaterial);zPlaneMesh.rotation.x=Math.PI/2,system.add(zPlaneMesh),this.scene.add(system)}}]),MRILoader}();exports.default=MRILoader},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.VERTEX="\n  precision highp float;\n  varying  vec2 vUv;\n  varying  vec4 worldCoord;\n  void main()\n  {\n    vUv = uv;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n    worldCoord = modelMatrix * vec4( position, 1.0 );\n  }\n",exports.FRAGMENT="\n  precision highp float;\n  // a max number we allow, can be upt to 16\n  const int maxNbOfTextures = 15;\n  // Number of texture used with this dataset\n  // cannot be higher than maxNbOfTextures\n  uniform int nbOfTextureUsed;\n  // size of the mosaic\n  uniform float nbSlicePerRow;\n  uniform float nbSlicePerCol;\n  // not necessary equal to nbSlicePerRow*nbSlicePerCol because last line\n  // is not necessary full\n  uniform float nbSliceTotal;\n  // space length\n  uniform float xspaceLength;\n  uniform float yspaceLength;\n  uniform float zspaceLength;\n  uniform int timespaceLength;\n  // the index within the timeseries\n  uniform int timeIndex;\n  uniform float forcedAlpha;\n  // a texture will contain a certain number of slices\n  uniform sampler2D textures[maxNbOfTextures];\n  // enabling the trilinear interpolation\n  uniform bool trilinearInterpol;\n  // texture that represent the curve data to look up\n  uniform sampler2D curveTexture;\n  // enable contrast curve\n  uniform bool enableCurve;\n  // Shared with the vertex shader\n  varying  vec4 worldCoord;\n  varying  vec2 vUv;\n  /**\n  * Returns accurate MOD when arguments are approximate integers.\n  */\n  float modI(float a,float b) {\n      float m = a - floor( ( a + 0.0001 ) / b) * b;\n      return floor( m + 0.0001 );\n  }\n  // return the color corresponding to the given shifted world cooridinates\n  // using a neirest neighbors approx (no interpolation)\n  vec4 getIntensityWorldNearest(vec3 swcin, int timeRecord){\n    vec3 swc = swcin.xzy;\n    // step to jump from a slice to another on a unit-sized texture\n    float sliceWidth = 1.0 / nbSlicePerRow;\n    float sliceHeight = 1.0 / nbSlicePerCol;\n    float rounder = 0.001;\n    // to be kept\n    float indexSliceToDisplay = floor( float(timeRecord) * zspaceLength   + swc.z + rounder);\n    int indexTextureInUse = int(floor(rounder + indexSliceToDisplay / (nbSlicePerRow*nbSlicePerCol)));\n    float rowTextureAbsolute = floor( (indexSliceToDisplay + rounder) / nbSlicePerRow);\n    float rowTexture = rowTextureAbsolute - (float(indexTextureInUse) * nbSlicePerCol) ;\n    float colTexture = modI( indexSliceToDisplay, nbSlicePerRow );\n    // switch to a center-pixel reference (shift of half a pixel in unit-sized texture)\n    float halpPixH = sliceWidth / xspaceLength / 2.0;\n    float halpPixV = sliceHeight / yspaceLength / 2.0;\n    // avoid being exactely between 2 slices because it can produce unpredictable result (stripes)\n    if(mod(swc.x, 0.5) == 0.0){\n      swc.x -= rounder;\n    }\n    // avoid being exactely between 2 slices because it can produce unpredictable result (stripes)\n    if(mod(swc.y, 0.5) == 0.0){\n      swc.y -= rounder;\n    }\n    // the actual textel 2D position of this 3D word coordinate\n    vec2 posInTexture = vec2(\n      sliceWidth * colTexture + ( swc.x/xspaceLength * sliceWidth) + halpPixH,\n      sliceHeight * rowTexture + (1.0 / nbSlicePerCol  - swc.y/yspaceLength * sliceHeight) + halpPixV\n    );\n    vec4 color;\n    // fetching the color in the texture (loops are not allowed)\n    if(indexTextureInUse == 0){\n      color = texture2D(textures[0], posInTexture);\n    }else if(indexTextureInUse == 1){\n      color = texture2D(textures[1], posInTexture);\n    }else if(indexTextureInUse == 2){\n      color = texture2D(textures[2], posInTexture);\n    }else if(indexTextureInUse == 3){\n      color = texture2D(textures[3], posInTexture);\n    }else if(indexTextureInUse == 4){\n      color = texture2D(textures[4], posInTexture);\n    }else if(indexTextureInUse == 5){\n      color = texture2D(textures[5], posInTexture);\n    }else if(indexTextureInUse == 6){\n      color = texture2D(textures[6], posInTexture);\n    }else if(indexTextureInUse == 7){\n      color = texture2D(textures[7], posInTexture);\n    }else if(indexTextureInUse == 8){\n      color = texture2D(textures[8], posInTexture);\n    }else if(indexTextureInUse == 9){\n      color = texture2D(textures[9], posInTexture);\n    }else if(indexTextureInUse == 10){\n      color = texture2D(textures[10], posInTexture);\n    }else if(indexTextureInUse == 11){\n      color = texture2D(textures[11], posInTexture);\n    }else if(indexTextureInUse == 12){\n      color = texture2D(textures[12], posInTexture);\n    }else if(indexTextureInUse == 13){\n      color = texture2D(textures[13], posInTexture);\n    }else if(indexTextureInUse == 14){\n      color = texture2D(textures[14], posInTexture);\n    }/*else if(indexTextureInUse == 15){\n      color = texture2D(textures[15], posInTexture);\n    }else if(indexTextureInUse == 16){\n      color = texture2D(textures[16], posInTexture);\n    }else if(indexTextureInUse == 17){\n      color = texture2D(textures[17], posInTexture);\n    }else if(indexTextureInUse == 18){\n      color = texture2D(textures[18], posInTexture);\n    }else if(indexTextureInUse == 19){\n      color = texture2D(textures[19], posInTexture);\n    }else if(indexTextureInUse == 20){\n      color = texture2D(textures[20], posInTexture);\n    }else if(indexTextureInUse == 21){\n      color = texture2D(textures[21], posInTexture);\n    }else if(indexTextureInUse == 22){\n      color = texture2D(textures[22], posInTexture);\n    }else if(indexTextureInUse == 23){\n      color = texture2D(textures[23], posInTexture);\n    }else if(indexTextureInUse == 24){\n      color = texture2D(textures[24], posInTexture);\n    }else if(indexTextureInUse == 25){\n      color = texture2D(textures[25], posInTexture);\n    }*/\n    return color;\n  }\n  vec4 getIntensityWorldTrilinear( vec3 swc, int timeRecord ){\n    // For the sake of readability, let's assume that:\n    float xBottom = floor(swc.x + 0.05);\n    float yBottom = floor(swc.y + 0.05);\n    float zBottom = floor(swc.z + 0.05);\n    float xTop = floor(xBottom + 1.05);\n    float yTop = floor(yBottom + 1.05);\n    float zTop = floor(zBottom + 1.05);\n    // making a normalized space out of our coordinates\n    float xNorm = swc.x - xBottom;\n    float yNorm = swc.y - yBottom;\n    float zNorm = swc.z - zBottom;\n    // fetching the colors at each corner\n    vec4 V000 = getIntensityWorldNearest( vec3(xBottom, yBottom, zBottom), timeRecord );\n    vec4 V100 = getIntensityWorldNearest( vec3(xTop, yBottom, zBottom), timeRecord );\n    vec4 V010 = getIntensityWorldNearest( vec3(xBottom, yTop, zBottom), timeRecord );\n    vec4 V001 = getIntensityWorldNearest( vec3(xBottom, yBottom, zTop), timeRecord );\n    vec4 V101 = getIntensityWorldNearest( vec3(xTop, yBottom, zTop), timeRecord );\n    vec4 V011 = getIntensityWorldNearest( vec3(xBottom, yTop, zTop), timeRecord );\n    vec4 V110 = getIntensityWorldNearest( vec3(xTop, yTop, zBottom), timeRecord );\n    vec4 V111 = getIntensityWorldNearest( vec3(xTop, yTop, zTop), timeRecord );\n    vec4 interpVal = V000 * (1. - xNorm) * (1. - yNorm) * (1. - zNorm) +\n                     V100 * xNorm * (1. - yNorm) * (1. - zNorm) +\n                     V010 * (1. - xNorm) * yNorm * (1. - zNorm) +\n                     V001 * (1. - xNorm) * (1. - yNorm) * zNorm +\n                     V101 * xNorm * (1. - yNorm) * zNorm +\n                     V011 * (1. - xNorm) * yNorm * zNorm +\n                     V110 * xNorm * yNorm * (1. - zNorm) +\n                     V111 * xNorm * yNorm * zNorm;\n    return interpVal;\n  }\n  // return true id the shifted world cooridinates (swc) is outside the volume\n  // then we can hide what is ouside\n  bool isOusideTheVolume( vec3 swc ){\n    return swc.x < 0.0 || swc.x > xspaceLength ||\n           swc.y < 0.0 || swc.y > yspaceLength ||\n           swc.z < 0.0 || swc.z > zspaceLength;\n  }\n  // return true if the shifted world cooridinates (swc) is just on the internal\n  // edge. Then we can display a thin line for edges\n  bool isInternalEdge( vec3 swc ){\n    float edgeSize = 0.5;\n    return swc.x < edgeSize || swc.x > (xspaceLength - edgeSize) ||\n           swc.y < edgeSize || swc.y > (yspaceLength - edgeSize) ||\n           swc.z < edgeSize || swc.z > (zspaceLength - edgeSize);\n  }\n  void main( void ) {\n    // worldCoord is [0, n], but the box is centered on 0 to make rotation work better\n    // so worldCoordShifted is like worldCoord but shifted of half size in each direction\n    vec3 worldCoordShifted = vec3( worldCoord.x + xspaceLength/2.0, worldCoord.y + yspaceLength/2.0, worldCoord.z + zspaceLength/2.0);\n\n    // This version makes the antero side up (default: down)\n    //vec3 worldCoordShifted = vec3( worldCoord.x + xspaceLength/2.0, -1.0*worldCoord.y + yspaceLength/2.0, -1.0*worldCoord.z + zspaceLength/2.0);\n    //vec3 worldCoordShifted = vec3( worldCoord.x + xspaceLength/2.0, worldCoord.y + yspaceLength/2.0, -1.0*worldCoord.z + zspaceLength/2.0);\n    // hide the outside\n    if( isOusideTheVolume(worldCoordShifted) )\n    {\n        discard;\n        return;\n    }\n    // color at the edges of the volume\n    if( isInternalEdge(worldCoordShifted) )\n    {\n        gl_FragColor = vec4(0.7, 0.7, 1.0, 1.0);\n        return;\n    }\n    vec4 color;\n    // interpolation (or not)\n    if(trilinearInterpol){\n      color = getIntensityWorldTrilinear(worldCoordShifted, timeIndex);\n    }else{\n      color = getIntensityWorldNearest(worldCoordShifted, timeIndex);\n    }\n    // use curve for contrast\n    if(enableCurve){\n      vec4 curveColor = texture2D(curveTexture, vec2(color.r, 0.5));\n      color.r = curveColor.r;\n      color.g = curveColor.g;\n      color.b = curveColor.b;\n    }\n    // forcing a lower alpha (when given)\n    color.a = min(color.a, forcedAlpha);\n    gl_FragColor = color;\n  }\n"},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.LOW_PASS_FILTERS=[{key:"none",label:"No Low Pass Filter"},{key:"lopass15",label:"Low Pass 15Hz"},{key:"lopass20",label:"Low Pass 20Hz"},{key:"lopass30",label:"Low Pass 30Hz"},{key:"lopass40",label:"Low Pass 40Hz"}],exports.HIGH_PASS_FILTERS=[{key:"none",label:"No High Pass Filter"},{key:"hipass0_5",label:"High Pass 0.5Hz"},{key:"hipass1",label:"High Pass 1Hz"},{key:"hipass5",label:"High Pass 5Hz"},{key:"hipass10",label:"High Pass 10Hz"}],exports.FILTERS={lopass15:{b:[.080716994603448,.072647596309189,.080716994603448],a:[1,-1.27986023820987,.527812029663189]},lopass20:{b:[.113997925584386,.149768961515167,.113997925584386],a:[1,-1.036801335341888,.43695012041825]},lopass30:{b:[.192813914343002,.325725940431161,.192813914343002],a:[1,-.570379950222695,.323884080078956]},lopass40:{b:[.281307434361307,.517866041871659,.281307434361307],a:[1,-.135289362582513,.279792792112445]},hipass0_5:{b:[.937293010134975,-1.874580964130496,.937293010134975],a:[1,-1.985579602684723,.985739491853153]},hipass1:{b:[.930549324176904,-1.861078566912498,.930549324176904],a:[1,-1.971047525054235,.971682555986628]},hipass5:{b:[.877493430773021,-1.754511635757187,.877493430773021],a:[1,-1.851210698908115,.866238657864428]},hipass10:{b:[.81345216101175,-1.625120853023986,.81345216101175],a:[1,-1.694160769645868,.750559011393507]}}}]);
//# sourceMappingURL=EEGBrowser.js.map